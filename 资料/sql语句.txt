create database 停车场车位管理数据库;
use 停车场车位管理数据库;
create table 车主(
	车主编号 varchar(10),
    姓名 varchar(20),
    性别 enum('男','女'),
    年龄 smallint,
    地址 varchar(40),
    联系电话 varchar(20),
    constraint 车主表主码 primary key(车主编号)
);
create table 车辆(
	车辆编号 varchar(10),
    车牌号 varchar(10),
    车辆品牌 varchar(20),
    车身颜色 varchar(10),
    车主编号 varchar(10),
	constraint 车辆表主码 primary key(车辆编号),
    constraint 车辆表外码 foreign key(车主编号) references 车主(车主编号)
);
create table 车位(
	车位编号 varchar(10),
    收费标准 smallint,
    占用情况 bool,
    车主编号 varchar(10),
	constraint 车位表主码 primary key(车位编号),
    constraint 车位表外码 foreign key(车主编号) references 车主(车主编号)
);
create table 出入记录(
	记录编号 varchar(10),
    停车时间 datetime,
    离开时间 datetime,
    产生费用 smallint,
    缴费情况 enum('是','否'),
    车辆编号 varchar(10),
    车位编号 varchar(10),
	constraint 出入记录表主码 primary key(车位编号,车辆编号,停车时间),
    constraint 出入记录表外码1 foreign key(车辆编号) references 车辆(车辆编号),
    constraint 出入记录表外码2 foreign key(车位编号) references 车位(车位编号)
);